(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[832,81,690,324],{67845:function(t,e,n){"use strict";n.d(e,{FL:function(){return f},Zk:function(){return u}});var r=n(4942),i=n(22782),o=n(39413),a=n(79826),s=n(64049),c=n(23420),h=n.n(c);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends i.xG{constructor(t){let{config:e,state:n}=t;if(super({config:e,state:n}),(0,r.Z)(this,"_providerEngineProxy",null),!e.chainConfig)throw o.Ty.invalidProviderConfigError("Please provide chainConfig");if(!e.chainConfig.chainId)throw o.Ty.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!e.chainConfig.rpcTarget)throw o.Ty.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:e.chainConfig,networks:{[e.chainConfig.chainId]:e.chainConfig}},super.initialize()}get provider(){return this._providerEngineProxy}set provider(t){throw new Error("Method not implemented.")}addChain(t){if(!t.chainId)throw a.ethErrors.rpc.invalidParams("chainId is required");if(!t.rpcTarget)throw a.ethErrors.rpc.invalidParams("chainId is required");this.configure({networks:l(l({},this.config.networks),{},{[t.chainId]:t})})}getChainConfig(t){var e;const n=null===(e=this.config.networks)||void 0===e?void 0:e[t];if(!n)throw a.ethErrors.rpc.invalidRequest("Chain ".concat(t," is not supported, please add chainConfig for it"));return n}getProviderEngineProxy(){return this._providerEngineProxy}updateProviderEngineProxy(t){this._providerEngineProxy?this._providerEngineProxy.setTarget(t):this._providerEngineProxy=(0,i.qY)(t)}}class f{constructor(){(0,r.Z)(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(t){throw new Error("Method not implemented.")}addChain(t){throw new Error("Method not implemented.")}async setupProvider(t){const e=this.getPrivKeyMiddleware(t),n=new s.eI;n.push(e);const r=(0,i.Xj)(n);this.updateProviderEngineProxy(r)}async switchChain(t){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}updateProviderEngineProxy(t){this._providerEngineProxy?this._providerEngineProxy.setTarget(t):this._providerEngineProxy=(0,i.qY)(t)}getPrivKeyMiddleware(t){const e={getPrivatekey:async()=>t};return this.createPrivKeyMiddleware(e)}createPrivKeyMiddleware(t){let{getPrivatekey:e}=t;return(0,s.v0)({private_key:(0,s.Pk)((async function(t,n){n.result=await e()}))})}}(0,r.Z)(f,"getProviderInstance",(async t=>{const e=new f;return await e.setupProvider(t.privKey),e}));h()()},1482:function(t,e,n){"use strict";n.d(e,{v:function(){return a}});var r=n(39413),i=n(37202),o=n.n(i);class a extends r.J5{async authenticateUser(){var t;if(!this.provider||null===(t=this.chainConfig)||void 0===t||!t.chainId)throw r.RM.notConnectedError();const{chainNamespace:e,chainId:n}=this.chainConfig;if(this.status!==r.MP.CONNECTED)throw r.RM.notConnectedError("Not connected with wallet, Please login/connect first");const i=await this.provider.request({method:"getAccounts"});if(i&&i.length>0){const t=(0,r.Cb)(i[0],this.name);if(t){if(!(0,r.$E)(t))return{idToken:t}}const a={domain:window.location.origin,uri:window.location.href,address:i[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},s=await(0,r.tV)(a,e),c=(new TextEncoder).encode(s),h=await this.provider.request({method:"signMessage",params:{message:c,display:"utf8"}}),d=await(0,r.rn)(e,o().encode(h),s,this.name,this.sessionTime);return(0,r.Fr)(i[0],this.name,d),{idToken:d}}throw r.RM.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnect(){if(this.status!==r.MP.CONNECTED)throw r.RM.disconnectionError("Not connected with wallet");const t=await this.provider.request({method:"getAccounts"});t&&t.length>0&&(0,r.qz)(t[0],this.name)}}},55777:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=r}var a=t.length,s=t.charAt(0),c=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===s;)r++,n++;for(var o=(t.length-n)*c+1>>>0,h=new Uint8Array(o);t[n];){var d=e[t.charCodeAt(n)];if(255===d)return;for(var l=0,u=o-1;(0!==d||l<i)&&-1!==u;u--,l++)d+=a*h[u]>>>0,h[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var f=o-i;f!==o&&0===h[f];)f++;for(var w=new Uint8Array(r+(o-f)),v=r;f!==o;)w[v++]=h[f++];return w}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var c=(o-i)*h+1>>>0,d=new Uint8Array(c);i!==o;){for(var l=e[i],u=0,f=c-1;(0!==l||u<r)&&-1!==f;f--,u++)l+=256*d[f]>>>0,d[f]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");r=u,i++}for(var w=c-r;w!==c&&0===d[w];)w++;for(var v=s.repeat(n);w<c;++w)v+=t.charAt(d[w]);return v},decodeUnsafe:d,decode:function(t){var e=d(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},37202:function(t,e,n){const r=n(55777);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},42848:function(t,e,n){"use strict";n.r(e),n.d(e,{PhantomAdapter:function(){return c}});var r=n(4942),i=n(39413),o=n(1482),a=n(44445);function s(t,e,n){return new Promise(((r,i)=>{n>0?setTimeout((async()=>{const o=await t();o&&r(o),o||s(t,e,n-1).then((t=>(r(t),t))).catch((t=>i(t)))}),e):r(!1)}))}class c extends o.v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,r.Z)(this,"name",i.rW.PHANTOM),(0,r.Z)(this,"adapterNamespace",i.yk.SOLANA),(0,r.Z)(this,"currentChainNamespace",i.EN.SOLANA),(0,r.Z)(this,"type",i.hN.EXTERNAL),(0,r.Z)(this,"status",i.MP.NOT_READY),(0,r.Z)(this,"_wallet",null),(0,r.Z)(this,"phantomProvider",null),(0,r.Z)(this,"rehydrated",!1),(0,r.Z)(this,"_onDisconnect",(()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===i.MP.CONNECTED?i.MP.READY:i.MP.NOT_READY,this.emit(i.n2.DISCONNECTED))})),this.chainConfig=t.chainConfig||null,this.sessionTime=t.sessionTime||86400}get isWalletConnected(){var t;return!(null===(t=this._wallet)||void 0===t||!t.isConnected||this.status!==i.MP.CONNECTED)}get provider(){var t;return(null===(t=this.phantomProvider)||void 0===t?void 0:t.provider)||null}set provider(t){throw new Error("Not implemented")}setAdapterSettings(t){this.status!==i.MP.READY&&null!==t&&void 0!==t&&t.sessionTime&&(this.sessionTime=t.sessionTime)}async init(t){if(super.checkInitializationRequirements(),this.chainConfig||(this.chainConfig=(0,i.h2)(i.EN.SOLANA,"0x1")),this._wallet=await async function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};if("undefined"!==typeof window&&null!==(t=window.solana)&&void 0!==t&&t.isPhantom)return window.solana;return await s((()=>{var t;return null===(t=window.solana)||void 0===t?void 0:t.isPhantom}),e.interval,e.count)?window.solana:null}({interval:500,count:3}),!this._wallet)throw i.Ty.notInstalled();this.phantomProvider=new a.PhantomInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=i.MP.READY,this.emit(i.n2.READY,i.rW.PHANTOM);try{i.cM.debug("initializing phantom adapter"),t.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(e){i.cM.error("Failed to connect with cached phantom provider",e),this.emit("ERRORED",e)}}async connect(){var t=this;try{if(super.checkConnectionRequirements(),this.status=i.MP.CONNECTING,this.emit(i.n2.CONNECTING,{adapter:i.rW.PHANTOM}),!this._wallet)throw i.Ty.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const n=this._wallet._handleDisconnect;try{await new Promise(((e,r)=>{if(!this._wallet)return r(i.Ty.notInstalled());this._wallet.once("connect",(async()=>{await this.connectWithProvider(this._wallet),e(this.provider)})),this._wallet._handleDisconnect=function(){r(i.Ty.windowClosed());for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n.apply(t._wallet,o)},this._wallet.connect().catch((t=>{r(t)}))}))}catch(e){if(e instanceof i.up)throw e;throw i.RM.connectionError(null===e||void 0===e?void 0:e.message)}finally{this._wallet._handleDisconnect=n}}if(!this._wallet.publicKey)throw i.RM.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(e){throw this.status=i.MP.READY,this.rehydrated=!1,this.emit(i.n2.ERRORED,e),e}}async disconnect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnect();try{var e;await(null===(e=this._wallet)||void 0===e?void 0:e.disconnect()),t.cleanup&&(this.status=i.MP.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(i.n2.DISCONNECTED)}catch(n){this.emit(i.n2.ERRORED,i.RM.disconnectionError(null===n||void 0===n?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw i.RM.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async connectWithProvider(t){if(!this.phantomProvider)throw i.RM.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(t),this.status=i.MP.CONNECTED,this.emit(i.n2.CONNECTED,{adapter:i.rW.PHANTOM,reconnected:this.rehydrated}),this.provider}}},7420:function(){},35139:function(){},11922:function(){},78848:function(){},71456:function(){},27790:function(){}}]);